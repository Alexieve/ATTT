-- RUN WITH OLS_ADMIN
GRANT SELECT ON C##ADMIN.THONGBAO TO RL_TRUONGKHOA, RL_TRUONGDV, RL_GIANGVIEN, RL_GIAOVU, RL_NVCOBAN, RL_SINHVIEN;

EXECUTE SA_USER_ADMIN.REMOVE_USER_LABELS(policy_name => 'BRANCH_POLICY', user_name => 'NV00000001');
EXECUTE SA_USER_ADMIN.SET_USER_LABELS(policy_name => 'BRANCH_POLICY', user_name => 'NV00000001', max_read_label => 'TRUONGKHOA:VPK,HTTT,CNPM,KHMT,CNTT,TGMT,MMT:CS0', def_label => 'TRUONGKHOA:VPK,HTTT,CNPM,KHMT,CNTT,TGMT,MMT:CS0', row_label => 'TRUONGKHOA:VPK,HTTT,CNPM,KHMT,CNTT,TGMT,MMT:CS0');
EXECUTE SA_USER_ADMIN.SET_USER_LABELS(policy_name => 'BRANCH_POLICY', user_name => 'NV00000002', max_read_label => 'TRUONGDV:HTTT:CS1', def_label => 'TRUONGDV:HTTT:CS1', row_label => 'TRUONGDV:HTTT:CS2');
EXECUTE SA_USER_ADMIN.SET_USER_LABELS(policy_name => 'BRANCH_POLICY', user_name => 'NV00000004', max_read_label => 'TRUONGDV:KHMT:CS2', def_label => 'TRUONGDV:KHMT:CS2', row_label => 'TRUONGDV:KHMT:CS2');

-- TEST
--SELECT * FROM ALL_SA_LABELS;
--SELECT BRANCH_LABEL, label_to_char (BRANCH_LABEL) AS label,  NGAY, NOIDUNG FROM C##ADMIN.THONGBAO;
--EXECUTE sa_session.set_access_profile ('BRANCH_POLICY', 'NV00000001')
SELECT * FROM C##ADMIN.THONGBAO;
SELECT sa_session.read_label('BRANCH_POLICY') "Read Label" From DUAL;

